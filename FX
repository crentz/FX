#!/bin/bash


############################
#     Packages Install
############################


if [[ $EUID -ne 0 ]]; then
   echo "This script must be run as root" 
   exit 1
fi
apt update && apt upgrade -y ;
apt install sudo wget unzip curl ca-certificates xserver-xorg xinit fluxbox featherpad qutebrowser lxappearance sakura viewnior xpaint xpdf xarchiver pcmanfm udevil gparted synaptic grub-pc gufw xfburn alsa-utils apulse wbar wbar-config nitrogen yad firmware-linux-nonfree firmware-misc-nonfree firmware-b43-installer firmware-b43legacy-installer firmware-realtek firmware-atheros firmware-iwlwifi firmware-brcm80211 network-manager-gnome -y ;
touch /etc/skel/.bash_profile ;
echo `#! /bin/bash` >> /etc/skel/.bash_profile ;
echo `if [[ -z $DISPLAY ]] [[ $(tty) =/dev/tty1 ]]; then exec startx; fi` >> /etc/skel/.bash_profile ;
sed -i 's/false/true/' /etc/NetworkManager/NetworkManager.conf ;
rm -rf /usr/share/fluxbox/styles ;
cd /etc/skel ;
wget https://raw.githubusercontent.com/crentz/FX/main/FX.zip ;
unzip FX.zip ;
mkdir /usr/share/wallpaper ;
cp -r backgrounds /usr/share/wallpaper/ ;
rm -rf backgrounds ;
mv Byef /usr/bin ;
mv fbscreensize /usr/bin ;
cp -r Dark-f /usr/share/themes/ ;
rm -rf Dark-f ;
rm -rf FX.zip ;
wget https://raw.githubusercontent.com/crentz/FX/main/wvcdm.zip ;
unzip wvcdm.zip ;
mv libwidevinecdm.so /usr/lib/qt/plugins/ppapi/ ;
mv libwidevinecdmadapter.so /usr/lib/qt/plugins/ppapi/ ;

echo "Packages finished and installed succesfully. Enjoy !"
